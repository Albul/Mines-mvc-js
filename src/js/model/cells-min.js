define("cells",["constants","utils"],function(b,a){var c=function(l,h,i){var g=a.matrix.create(l,h,b.ZERO),f=a.matrix.create(l,h,b.CLOSED_STATE),e=l*h,d=function(){var n=l,m=h;while(n--){while(m--){if(this.notMine(n,m)){g[n][m]=j.call(this,n,m)}}m=h}},j=function(n,m){var o=0;if(this.isMine(n-1,m)){o++}if(this.isMine(n+1,m)){o++}if(this.isMine(n,m-1)){o++}if(this.isMine(n,m+1)){o++}if(this.isMine(n-1,m-1)){o++}if(this.isMine(n-1,m+1)){o++}if(this.isMine(n+1,m-1)){o++}if(this.isMine(n+1,m+1)){o++}return o},k=function(n,m){if(n>=0&&n<l&&m>=0&&m<h){return true}else{return false}};this.open=function(n,m){if(this.isClosed(n,m)){e--;f[n][m]=!b.CLOSED_STATE}};this.getNumberClosed=function(){return e};this.isOpened=function(n,m){if(!k(n,m)){return b.OVERFLOW}return f[n][m]!=b.CLOSED_STATE};this.isClosed=function(n,m){if(!k(n,m)){return b.OVERFLOW}return f[n][m]==b.CLOSED_STATE};this.isMine=function(n,m){if(!k(n,m)){return b.OVERFLOW}return g[n][m]==b.MINE};this.notMine=function(n,m){if(!k(n,m)){return b.OVERFLOW}return g[n][m]!=b.MINE};this.isZero=function(n,m){if(!k(n,m)){return b.OVERFLOW}return g[n][m]==b.ZERO};this.isOther=function(n,m){if(!k(n,m)){return b.OVERFLOW}return g[n][m]!=b.ZERO&&g[n][m]!=b.MINE};this.getContentCell=function(n,m){if(!k(n,m)){return b.OVERFLOW}return g[n][m]};this.getStateCell=function(n,m){if(!k(n,m)){return b.OVERFLOW}return f[n][m]};a.matrix.fillRandom(g,i,b.MINE);d.call(this)};return c});